
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Enhanced Trading Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #ffffff; 
            min-height: 100vh;
        }
        
        .container { max-width: 1600px; margin: 0 auto; padding: 20px; }
        
        .header { 
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
            padding: 30px; 
            border-radius: 15px; 
            margin-bottom: 30px; 
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.3);
            text-align: center;
        }
        
        .header h1 { font-size: 2.5em; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3); }
        .header p { font-size: 1.2em; opacity: 0.9; }
        
        .status-bar { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            background: rgba(255,255,255,0.1); 
            padding: 15px 30px; 
            border-radius: 10px; 
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .status-item { text-align: center; }
        .status-value { font-size: 1.5em; font-weight: bold; color: #00ff88; }
        .status-label { font-size: 0.9em; opacity: 0.8; }
        
        .main-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr 1fr; 
            gap: 25px; 
            margin-bottom: 30px; 
        }
        
        .performance-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); 
            gap: 20px; 
            margin-bottom: 30px; 
        }
        
        .card { 
            background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(255,255,255,0.1);
            padding: 25px; 
            border-radius: 15px; 
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .card:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }
        
        .card h3 { 
            margin-bottom: 20px; 
            color: #667eea; 
            font-size: 1.3em;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .metric { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 15px; 
            padding: 10px 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }
        
        .metric-label { color: #cccccc; }
        .metric-value { 
            font-weight: bold; 
            font-size: 1.2em;
        }
        
        .positive { color: #00ff88; }
        .negative { color: #ff4757; }
        .neutral { color: #ffa502; }
        
        .chart-container { 
            background: rgba(255,255,255,0.05); 
            border: 1px solid rgba(255,255,255,0.1);
            padding: 25px; 
            border-radius: 15px; 
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }
        
        .chart-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 25px; 
            margin-bottom: 30px; 
        }
        
        .progress-ring { 
            transform: rotate(-90deg); 
            margin: 0 auto; 
            display: block;
        }
        
        .progress-ring-circle { 
            transition: stroke-dasharray 0.35s; 
            fill: transparent; 
            stroke: #667eea; 
            stroke-width: 4;
        }
        
        .footer { 
            text-align: center; 
            padding: 20px; 
            opacity: 0.7; 
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
        }
        
        .alert { 
            padding: 15px; 
            border-radius: 10px; 
            margin-bottom: 20px; 
            border-left: 4px solid;
        }
        
        .alert-success { background: rgba(0,255,136,0.1); border-color: #00ff88; }
        .alert-warning { background: rgba(255,165,2,0.1); border-color: #ffa502; }
        .alert-danger { background: rgba(255,71,87,0.1); border-color: #ff4757; }
        
        .live-indicator { 
            display: inline-block; 
            width: 8px; 
            height: 8px; 
            background: #00ff88; 
            border-radius: 50%; 
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .trade-history { 
            max-height: 300px; 
            overflow-y: auto; 
            padding: 10px;
        }
        
        .trade-item { 
            display: flex; 
            justify-content: space-between; 
            padding: 8px 12px; 
            margin-bottom: 5px; 
            background: rgba(255,255,255,0.05); 
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ AI Trading Bot - Enhanced Dashboard</h1>
            <p>Advanced Real-time Analytics & Performance Monitoring</p>
            <p><span class="live-indicator"></span> Live ‚Ä¢ Last Update: 2025-11-02 14:38:28 UTC ‚Ä¢ Iteration: 30</p>
        </div>
        
        <div class="status-bar">
            <div class="status-item">
                <div class="status-value">Running</div>
                <div class="status-label">Bot Status</div>
            </div>
            <div class="status-item">
                <div class="status-value">0.0h</div>
                <div class="status-label">Uptime</div>
            </div>
            <div class="status-item">
                <div class="status-value">0</div>
                <div class="status-label">Signals Generated</div>
            </div>
            <div class="status-item">
                <div class="status-value">0.0%</div>
                <div class="status-label">Execution Rate</div>
            </div>
            <div class="status-item">
                <div class="status-value">Neutral</div>
                <div class="status-label">Market Trend</div>
            </div>
        </div>
        
        <div class="main-grid">
            <div class="card">
                <h3>üí∞ Account Overview</h3>
                <div class="metric">
                    <span class="metric-label">üíµ Account Balance</span>
                    <span class="metric-value">$1,809.76</span>
                </div>
                <div class="metric">
                    <span class="metric-label">‚ö° Unrealized PnL</span>
                    <span class="metric-value positive">$+0.00</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üíé Total Equity</span>
                    <span class="metric-value">$1,809.76</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üõ°Ô∏è Margin Used</span>
                    <span class="metric-value">$788.86</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üìä Margin Ratio</span>
                    <span class="metric-value neutral">43.6%</span>
                </div>
            </div>
            
            <div class="card">
                <h3>üìà Trading Performance</h3>
                <div class="metric">
                    <span class="metric-label">üéØ Total Trades</span>
                    <span class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üèÜ Win Rate</span>
                    <span class="metric-value negative">0.0%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üí∞ Total PnL</span>
                    <span class="metric-value positive">$+0.00</span>
                </div>
                <div class="metric">
                    <span class="metric-label">‚ö° Profit Factor</span>
                    <span class="metric-value positive">1.00</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üìâ Max Drawdown</span>
                    <span class="metric-value negative">$0.00</span>
                </div>
            </div>
            
            <div class="card">
                <h3>ü§ñ AI Learning Status</h3>
                <div class="metric">
                    <span class="metric-label">üéõÔ∏è Confidence Threshold</span>
                    <span class="metric-value">1.200</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üìè Position Multiplier</span>
                    <span class="metric-value">1.00x</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üîß Adaptations</span>
                    <span class="metric-value">0</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üß† Learning Confidence</span>
                    <span class="metric-value">0.0%</span>
                </div>
                <div class="metric">
                    <span class="metric-label">üìä Market Volatility</span>
                    <span class="metric-value">0.0%</span>
                </div>
            </div>
        </div>
        
        <div class="chart-grid">
            <div class="chart-container">
                <h3>üìä PnL Evolution</h3>
                <div id="pnl-chart" style="height: 400px;"></div>
            </div>
            
            <div class="chart-container">
                <h3>üéØ Parameter Evolution</h3>
                <div id="parameters-chart" style="height: 400px;"></div>
            </div>
        </div>
        
        <div class="chart-container">
            <h3>üìà Performance Metrics Dashboard</h3>
            <div id="performance-chart" style="height: 500px;"></div>
        </div>
        
        <div class="footer">
            <p>üîÑ Dashboard auto-refreshes every 30 seconds | üìÅ Reports: data\learning_reports</p>
            <p>ü§ñ Enhanced Trading Dashboard v2.0 ‚Ä¢ Real-time 1s polling enabled</p>
        </div>
    </div>
    
    <script>
        // PnL Chart
        var pnlData = [{
            x: ["'14:27:22'", "'14:38:28'"],
            y: [0.0, 0.0],
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Cumulative PnL',
            line: {color: '#00ff88', width: 3},
            marker: {size: 6},
            fill: 'tonexty',
            fillcolor: 'rgba(0,255,136,0.1)'
        }];
        
        var pnlLayout = {
            title: 'Cumulative PnL Over Time',
            xaxis: {title: 'Time', color: '#cccccc'},
            yaxis: {title: 'PnL ($)', color: '#cccccc'},
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)',
            font: {color: '#cccccc'},
            showlegend: false
        };
        
        Plotly.newPlot('pnl-chart', pnlData, pnlLayout, {responsive: true});
        
        // Parameters Chart
        var paramData = [
            {
                x: ["'14:27:22'", "'14:38:28'"],
                y: [1.2, 1.2],
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Confidence Threshold',
                line: {color: '#667eea', width: 2}
            },
            {
                x: ["'14:27:22'", "'14:38:28'"],
                y: [1.0, 1.0],
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Position Multiplier',
                yaxis: 'y2',
                line: {color: '#764ba2', width: 2}
            }
        ];
        
        var paramLayout = {
            title: 'AI Parameter Evolution',
            xaxis: {title: 'Time', color: '#cccccc'},
            yaxis: {title: 'Confidence Threshold', side: 'left', color: '#667eea'},
            yaxis2: {
                title: 'Position Multiplier',
                side: 'right',
                overlaying: 'y',
                color: '#764ba2'
            },
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)',
            font: {color: '#cccccc'},
            showlegend: true,
            legend: {bgcolor: 'rgba(0,0,0,0.5)'}
        };
        
        Plotly.newPlot('parameters-chart', paramData, paramLayout, {responsive: true});
        
        // Performance Dashboard
        var performanceData = [
            {
                x: ["'14:27:22'", "'14:38:28'"],
                y: [0.0, 0.0],
                type: 'scatter',
                mode: 'lines',
                name: 'Win Rate (%)',
                line: {color: '#00ff88', width: 2}
            },
            {
                x: ["'14:27:22'", "'14:38:28'"],
                y: [1.0, 1.0],  // Cap at 5 for better visualization
                type: 'scatter',
                mode: 'lines',
                name: 'Profit Factor',
                yaxis: 'y2',
                line: {color: '#ffa502', width: 2}
            },
            {
                x: ["'14:27:22'", "'14:38:28'"],
                y: [1000.0, 1809.76357322],
                type: 'scatter',
                mode: 'lines',
                name: 'Account Equity',
                yaxis: 'y3',
                line: {color: '#667eea', width: 2}
            }
        ];
        
        var performanceLayout = {
            title: 'Multi-Metric Performance Dashboard',
            xaxis: {title: 'Time', color: '#cccccc'},
            yaxis: {title: 'Win Rate (%)', side: 'left', color: '#00ff88'},
            yaxis2: {
                title: 'Profit Factor',
                side: 'right',
                overlaying: 'y',
                color: '#ffa502',
                position: 0.85
            },
            yaxis3: {
                title: 'Equity ($)',
                side: 'right',
                overlaying: 'y',
                color: '#667eea'
            },
            plot_bgcolor: 'rgba(0,0,0,0)',
            paper_bgcolor: 'rgba(0,0,0,0)',
            font: {color: '#cccccc'},
            showlegend: true,
            legend: {bgcolor: 'rgba(0,0,0,0.5)'}
        };
        
        Plotly.newPlot('performance-chart', performanceData, performanceLayout, {responsive: true});
        
        // Auto-refresh every 30 seconds
        setTimeout(function() { location.reload(); }, 30000);
    </script>
</body>
</html>
        